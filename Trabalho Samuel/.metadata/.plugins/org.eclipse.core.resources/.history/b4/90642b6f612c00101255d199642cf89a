package com.cinelume.controller;

import com.cinelume.model.Usuario;
import com.cinelume.util.JsonDataManager;

public class UsuarioController {
    private Usuario usuarioAtual;
    
    public void login(String nome) {
        try {
            this.usuarioAtual = JsonDataManager.carregarUsuario(nome + ".json");
        } catch (Exception e) {
            this.usuarioAtual = new Usuario(nome);
        }
    }
    
    public void salvarDados() {
        try {
            JsonDataManager.salvarUsuario(usuarioAtual.getNome() + ".json", usuarioAtual);
        } catch (Exception e) {
            System.out.println("Erro ao salvar dados: " + e.getMessage());
        }
    }
    
    public Usuario getUsuarioAtual() {
        return usuarioAtual;
    }
}